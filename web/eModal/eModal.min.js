!function(e){e(["jquery"],function(e){function t(t,o,a){function l(e,t){"error"===t?n("Url [ "+r.url+" ] load fail.","Loading: "+(r.title||o)):r.callback&&r.callback(v)}var r={loading:!0,url:t.url||t,callback:t.callback||a};return t.url&&e.extend(r,t),n(r,o).find(".modal-body").load(r.url,l).closest(".modal-dialog")}function n(t,n){b(t,n);var o=e("<div>").append(f(t),m(t.buttons));return s(o,t)}function o(t,o,a){function l(n){var o=t.callback||a;if(d(),"function"==typeof o){var l=e(n.currentTarget).html();return o(r[l]?!0:!1)}throw new Error("No callback provided to execute confim modal action.")}var r={OK:"Annuler",Yes:"No",True:"False"},i="OK";return n({message:t.message||t,title:t.title||o,onHide:l,size:t.size,buttons:[{close:!0,click:l,text:r[t.label]?r[t.label]:r[i],style:"danger"},{close:!0,click:l,text:r[t.label]?t.label:i}]})}function a(){return e("#"+C+" > *").remove()}function l(t,o,a){function l(t){var n=r.callback||a;if(d(),"function"==typeof n)return n("Cancel"===e(t.currentTarget).html()?null:v.find("input").val());throw new Error("No callback provided to execute prompt modal action.")}var r={};"object"==typeof t?e.extend(r,t):(r.message=t,r.title=o,r.callback=a),r.buttons=!1,r.onHide=l;var i=m([{close:!0,type:"reset",text:"Annuler",style:"danger"},{close:!1,type:"submit",text:"OK"}]);return r.message=e('<form role=form style="margin-bottom: 0;"><div class=modal-body style="text-align:center;"><label for=prompt-input class=control-label>'+(r.message||"")+'</label><input type=text class=form-control id=prompt-input required autofocus value="'+(r.value||"")+(r.pattern?'" pattern="'+r.pattern:"")+'"></div></form>').append(i).on("submit",l),n(r)}function r(t){return!y&&(y=c()),e.extend(y,t)}function i(t){return v&&v.remove(),e.extend(g,t)}function d(){return v.off("hide.bs.modal").modal("hide")}function s(e){return v.find(".modal-content").append(e),v.modal(g)}function c(){return{allowContentRecycle:!0,size:"",loadingHtml:'<span class="fa fa-spinner fa-spin fa-3x text-primary" style="position: absolute; left: 50%;" align="center">',title:"Attention"}}function u(){function t(){return e('<div class="modal fade col-xs-11 col-md-12" tabindex="-1"> <div class=modal-dialog>  <div class=modal-content>   <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Fermer</span></button><h4 class=modal-title></h4></div>  </div> </div></div>').on("hidden.bs.modal",p).on("click","button.x",function(t){var n=e(t.currentTarget);if("submit"!==n.prop("type"))return d();try{if(n.closest("form")[0].checkValidity())return d()}catch(o){return d()}return v})}return v||(document.getElementById(C)||e("body").append(e(z).prop("id",C).hide()),y=c(),v=t()),v}function m(t){if(t===!1)return"";var n=e(z).addClass("modal-footer").prop("id",k);if(t)for(var o=0,a=t.length;a>o;o++){var l=t[o],r=e("<button>").addClass("btn btn-"+(l.style||"info"));for(var i in l)if(l.hasOwnProperty(i))switch(i){case"close":l[i]&&r.attr("data-dismiss","modal").addClass("x");break;case"click":r.click(l.click);break;case"text":r.html(l[i]);break;default:r.attr(i,l[i])}n.append(r)}else n.append('<button class="x btn btn-info" data-dismiss=modal type=button>Fermer</button>');return n}function f(t){var n,o=t.loading?y.loadingHtml:t.message||t;return o.on||o.onclick?(n=t.clone===!0?e(o).clone():e(o),n.addClass(t.useBin&&!t.loading?w:x)):n=e(z).addClass("modal-body").html(o),t.css&&t.css!==n.css&&n.css(t.css),n}function p(){if(!v)return v;var e=v.find("."+w).removeClass(w).appendTo("#"+C);return v.off("hide.bs.modal").find(".modal-content > div:not(:first-child)").remove(),(!y.allowContentRecycle||h.clone)&&e.remove(),v}function b(t,n){if(!t)throw new Error("Invalid parameters!");p(),h=t;var o=u();return o.find(".modal-dialog").removeClass("modal-sm modal-lg").addClass(t.size?"modal-"+t.size:y.size),o.find(".modal-title").html((t.title||n||y.title)+" ").append(e("<small>").html(t.subtitle||"")),o.on("hide.bs.modal",t.onHide),o}var v,y,g={},h={},x="tmp-modal-content",w="rec-modal-content",k="eModalFooter",C="recycle-bin",z="<div>",O={sm:"sm",lg:"lg"};return{ajax:t,alert:n,confirm:o,emptyBin:a,prompt:l,setEModalOptions:r,setModalOptions:i,close:d,size:O}})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof window.module&&window.module.exports?window.module.exports=t(window.require(e[0])):window.eModal=t(window.jQuery)});